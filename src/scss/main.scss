// ============================
// Base Styles
// ============================
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}

html {
  font-family: "Inter", sans-serif;
  font-optical-sizing: auto;
  font-weight: 400;
  font-style: normal;
}

section {
  min-height: 100vh;
  height: 100vh;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1;
}

footer {
  position: relative;
  z-index: 1;
  background: #fff;
}

// ============================
// Typography
// ============================
.big-numbers {
  font-family: 'Letterboard Lite';
  font-weight: 600;
  font-style: normal;
}

// ============================
// Contract to Cash Ribbon
// ============================
.contract-to-cash-ribbon--canvas {
  width: 100%;
  height: 100%;
  display: block;
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  top: -10px;

  &.isFixed {
    position: fixed;
    height: auto;
  }
}

.contract-to-cash-ribbon--main {
  background-color: #fff;
  position: relative;
  overflow: hidden;
}

.contract-to-cash-ribbon--content {
  position: relative;
  z-index: 1;
}

// ============================
// Parallax System
// ============================
.parallax-system--hero {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 98vh;
  display: flex;

  &.isHidden {
    opacity: 0;
  }
}

.parallax-system--hero--spacer {
  height: 98vh;
}

.parallax-system--display {
  background: rebeccapurple;
  height: 200vh;
  width: 100%;
  z-index: 2;
}

.parallax-system--display--card {
  position: fixed;
  left: 50%;
  width: 1120px;
  height: 730px;
  border-radius: 28px;
  background: rgba(255, 255, 255, 0.80);
  box-shadow: 0 1px 0 0 #FFF inset, 0 0 64px 0 rgba(21, 24, 44, 0.16);
  backdrop-filter: blur(8px);
  --card-top: 87vh;
  --card-translate-y: 0px;
  top: var(--card-top);
  transform: translateX(-50%) translateY(var(--card-translate-y));

  &.isCentered {
    top: 50%;
    transform: translateX(-50%) translateY(-50%);
  }

  &.isScrollingIn {
    --card-top: 87vh;
  }

  &.isScrollingOut {
    transform: translateX(-50%);
  }

  &::after {
    content: '';
    position: absolute;
    background: white;
    top: 16px;
    left: 16px;
    bottom: 16px;
    right: 16px;
    border-radius: 12px;
  }
}

.parallax-system--display--notification {
  width: 410px;
  height: 95px;
  border-radius: 0.75rem;
  background: rgba(255, 255, 255, 0.90);
  box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.10), 0 1px 0 0 #FFF inset, 0 16px 72px 0 rgba(39, 30, 128, 0.20);
  backdrop-filter: blur(4px);
  position: absolute;
  transform: scale(0);
  opacity: 0;
  transition: all 0.125s ease-in-out;
  z-index: 1;
}

// Notification positions
$notification-positions: (
  1: (top: 32px, left: -64px),
  2: (top: 260px, right: -32px),
  3: (top: 530px, right: 112px),
  4: (top: 360px, left: -32px)
);

@each $num, $props in $notification-positions {
  [data-parallax-system--display--notification="#{$num}"] {
    @each $prop, $value in $props {
      #{$prop}: $value;
    }
  }
}

// Notification phase visibility
// Notification 1: phases 1-4, Notification 2: phases 2-4, Notification 3: phases 3-4, Notification 4: phase 4
$phase-visibility: (
  1: (1, 2, 3, 4),
  2: (2, 3, 4),
  3: (3, 4),
  4: (4)
);

@each $notification, $phases in $phase-visibility {
  $selectors: ();
  @each $phase in $phases {
    $selectors: append($selectors, ".parallax-system--display--phase#{$phase} [data-parallax-system--display--notification=\"#{$notification}\"]", comma);
  }
  #{$selectors} {
    transform: scale(1);
    opacity: 1;
  }
}

.parallax-system--journey {
  position: relative;
}

.parallax-system--journey--0 {
  &.isLoaded {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    display: none !important;
  }

  &.isVisible {
    display: flex !important;
  }

  &.isRelative {
    position: relative;
  }
}

.parallax-system--journey--spacer {
  height: 100vh;
  display: block;

  &.isHidden {
    display: none;
  }
}

.parallax-system--qualities {
  position: relative;

  &.isFixed {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
  }
}

.parallax-system--qualities--spacer {
  height: 100vh;
  display: none;

  &.isVisible {
    display: block;
  }
}

.parallax-system--cta {
  background: rebeccapurple;
  position: relative;
}
